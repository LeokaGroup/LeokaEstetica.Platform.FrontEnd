<p-toast></p-toast>

<div class="d-flex block-profile space-top-50">
  <div class="profile-left-menu col-lg-3">

  </div>

  <div class="block-worksheet">
    <div class="worksheet-panel">
      <p-panel header="Контактная информация" [toggleable]="true">
        <ng-template pTemplate="icons">
          <button pButton class="p-panel-header-icon p-link" (click)="menu.toggle($event)">
            <span class="pi pi-cog"></span>
          </button>
          <p-menu #menu id="config_menu" [popup]="true"></p-menu>
        </ng-template>
        
        <div class="d-flex">
            <div class="control-input-text-worksheet">
                <input type="text" 
                        class="p-inputtext-sm input-control-worksheet" 
                        placeholder="Фамилия" 
                        pInputText
                        autocomplete="new-password"
                        [(ngModel)]="lastName"
                        *ngIf="isModeEdit" />

               <div *ngIf="isModeView">
                 <label>
                   <small>Фамилия</small>
                 </label>
               </div>
               <div>
                <span *ngIf="isModeView">{{profileInfo$.value.lastName}}</span>      
               </div>                  

                <div class="field-checkbox">
                    <p-checkbox [(ngModel)]="profileInfo$.value.isShortFirstName" 
                                [binary]="true" 
                                inputId="binary" 
                                *ngIf="isModeEdit">
                  </p-checkbox>
                    <p-checkbox [(ngModel)]="isShortFirstName" 
                                [binary]="true" 
                                inputId="binary" 
                                *ngIf="isModeView" 
                                [disabled]="true">
                  </p-checkbox>
                    <label for="binary">
                        <small>Отображать только первую букву фамилии</small>
                    </label>
                </div>
            </div>
    
            <div class="control-input-text-worksheet">
                <input type="text" 
                        class="p-inputtext-sm input-control-worksheet" 
                        placeholder="Имя" 
                        pInputText
                        autocomplete="new-password"
                        [(ngModel)]="firstName"
                        *ngIf="isModeEdit" />
                <div *ngIf="isModeView">
                  <label>
                    <small>Имя</small>
                  </label>
                </div>
                <span *ngIf="isModeView">{{profileInfo$.value.firstName}}</span>      
            </div>

            <div class="control-input-text-worksheet">
                <input type="text" 
                        class="p-inputtext-sm input-control-worksheet" 
                        placeholder="Отчество" 
                        pInputText
                        autocomplete="new-password"
                        [(ngModel)]="patronymic"
                        *ngIf="isModeEdit" />
                <div *ngIf="isModeView">
                  <label>
                    <small>Отчество</small>
                  </label>
                </div>
                <span *ngIf="isModeView">{{profileInfo$.value.patronymic}}</span>      
            </div>            
        </div>       

        <div class="d-flex worksheet-line">
            <div class="control-input-text-worksheet">
                <input type="text" 
                        class="p-inputtext-sm input-control-worksheet" 
                        placeholder="Email" 
                        pInputText
                        autocomplete="new-password"
                        [(ngModel)]="email"
                        *ngIf="isModeEdit" />     
                <div *ngIf="isModeView">
                  <label>
                    <small>Email</small>
                  </label>
                </div>
                <span *ngIf="isModeView">{{profileInfo$.value.email}}</span>               
            </div>

            <div class="control-input-text-worksheet">
                <input type="text" 
                        class="p-inputtext-sm input-control-worksheet" 
                        placeholder="Номер телефона" 
                        pInputText
                        autocomplete="new-password"
                        [(ngModel)]="phoneNumber"
                        *ngIf="isModeEdit" />   
                <div *ngIf="isModeView">
                  <label>
                    <small>Номер телефона</small>
                  </label>
                </div>
                <span *ngIf="isModeView">{{profileInfo$.value.phoneNumber}}</span>         
            </div>           
        </div>

        <div class="d-flex worksheet-line">
            <div class="control-input-text-worksheet">
                <input type="text" 
                        class="p-inputtext-sm input-control-worksheet" 
                        placeholder="Telegram" 
                        pInputText
                        autocomplete="new-password"
                        [(ngModel)]="telegram"
                        *ngIf="isModeEdit" />   
                <div *ngIf="isModeView">
                  <label>
                    <small>Telegram</small>
                  </label>
                </div>
                <span *ngIf="isModeView">{{profileInfo$.value.telegram}}</span>         
            </div>

            <div class="control-input-text-worksheet">
                <input type="text" 
                        class="p-inputtext-sm input-control-worksheet" 
                        placeholder="WhatsApp" 
                        pInputText
                        autocomplete="new-password"
                        [(ngModel)]="whatsApp"
                        *ngIf="isModeEdit" />   
                <div *ngIf="isModeView">
                  <label>
                    <small>WhatsApp</small>
                  </label>
                </div>
                <span *ngIf="isModeView">{{profileInfo$.value.whatsApp}}</span>        
            </div>

            <div class="control-input-text-worksheet">
                <input type="text" 
                        class="p-inputtext-sm input-control-worksheet" 
                        placeholder="ВКонтакте" 
                        pInputText
                        autocomplete="new-password"
                        [(ngModel)]="vkontakte"
                        *ngIf="isModeEdit" />   
                <div *ngIf="isModeView">
                  <label>
                    <small>Ссылка ВКонтакте</small>
                  </label>
                </div>
                <span *ngIf="isModeView">{{profileInfo$.value.vkontakte}}</span>       
            </div>
        </div>

        <div class="d-flex worksheet-line">
            <div class="control-input-text-worksheet">
                <input type="text" 
                        class="p-inputtext-sm input-control-worksheet" 
                        placeholder="Другая соц.сеть" 
                        pInputText
                        autocomplete="new-password"
                        [(ngModel)]="otherLink"
                        *ngIf="isModeEdit" />   
                <div *ngIf="isModeView">
                  <label>
                    <small>Другая ссылка</small>
                  </label>
                </div>
                <span *ngIf="isModeView">{{profileInfo$.value.otherLink}}</span>   
            </div>        
        </div>
<!-- 
        <div class="d-flex worksheet-line">
            <div class="control-input-text-worksheet">
                <button type="submit" 
                      class="btn btn-primary button-action-pur-control-worksheet">
                Сохранить
              </button>
            </div>
        </div> -->
      </p-panel>
    </div>

    <div class="worksheet-panel space-top">
      <p-panel header="О себе" [toggleable]="true">
        <ng-template pTemplate="icons">
          <button pButton class="p-panel-header-icon p-link" (click)="menu.toggle($event)">
            <span class="pi pi-cog"></span>
          </button>
          <p-menu #menu id="config_menu" [popup]="true"></p-menu>
        </ng-template>
        
        <div class="d-flex worksheet-line">
            <div class="control-input-text-worksheet">
                <textarea input-control-worksheet 
                            rows="5" 
                            cols="100" 
                            pInputTextarea 
                            [autoResize]="true" 
                            autocomplete="new-password"
                            placeholder="Напишите о себе"
                            [(ngModel)]="aboutme"
                            *ngIf="isModeEdit">
                <div *ngIf="isModeView">
                  <label>
                    <small>О себе</small>
                  </label>
                </div>
                <span *ngIf="isModeView">{{profileInfo$.value.aboutme}}</span>   
                </textarea>
            </div>                         
        </div>

        <div class="d-flex worksheet-line">
            <div class="control-input-text-worksheet">
                <input type="text" 
                        class="p-inputtext-sm input-control-worksheet" 
                        placeholder="Должность" 
                        pInputText
                        autocomplete="new-password"
                        [(ngModel)]="job"
                        *ngIf="isModeEdit" />   
                <div *ngIf="isModeView">
                  <label>
                    <small>Должность</small>
                  </label>
                </div>
                <span *ngIf="isModeView">{{profileInfo$.value.job}}</span>   
            </div>  

            <!-- TODO: Передавать это поле на бэк, когда там будет оно добавлено. -->
            <div class="control-input-text-worksheet">
                <input type="text" 
                        class="p-inputtext-sm input-control-worksheet" 
                        placeholder="Опыт (стаж)" 
                        pInputText
                        autocomplete="new-password"
                        [(ngModel)]="experience"
                        *ngIf="isModeEdit"  />   
                <div *ngIf="isModeView">
                  <label>
                    <small>Опыт (стаж)</small>
                  </label>
                </div>
                <span *ngIf="isModeView">{{profileInfo$.value.experience}}</span>  
            </div>  
        </div>

        <!-- <div class="d-flex worksheet-line">
            <div class="control-input-text-worksheet">
                <button type="submit" 
                      class="btn btn-primary button-action-pur-control-worksheet">
                Сохранить
              </button>
            </div>
        </div> -->
      </p-panel>
    </div>

    <div class="worksheet-panel space-top">
      <p-panel header="Навыки" [toggleable]="true">
        <ng-template pTemplate="icons">
          <button pButton class="p-panel-header-icon p-link" (click)="menu.toggle($event)">
            <span class="pi pi-cog"></span>
          </button>
          <p-menu #menu id="config_menu" [popup]="true"></p-menu>
        </ng-template>

        <p-pickList [source]="profileSkillsItems$.value" 
                    [target]="aSelectedSkills" 
                    sourceHeader="Выберете навыки" 
                    targetHeader="Выбранные навыки" 
                    [dragdrop]="true"
                    [responsive]="true" 
                    [sourceStyle]="{'height':'30rem'}" 
                    [targetStyle]="{'height':'30rem'}" 
                    filterBy="name"
                    sourceFilterPlaceholder="Найти по названию" 
                    targetFilterPlaceholder="Найти по названию"
                    (onMoveToTarget)="onSaveProfileUserSkillsAsync()">
    <ng-template let-product pTemplate="item">
        <div class="product-item">
            <div class="image-container">
                    <!-- <img src="assets/showcase/images/demo/product/{{product.image}}" [alt]="product.name" class="product-image" /> -->
            </div>
            <div class="product-list-detail">
                <h5 class="mb-2">{{product.skillName}}</h5>
                <i class="pi pi-tag product-category-icon"></i>
                <span class="product-category">{{product.tag}}</span>
            </div>
            <div class="product-list-action">
                <!-- <h6 class="mb-2">${{product.price}}</h6> -->
                <!-- <span [class]="'product-badge status-' + product.inventoryStatus.toLowerCase()">{{product.inventoryStatus}}</span> -->
            </div>
        </div>
    </ng-template>
</p-pickList>

          <!-- <div class="d-flex worksheet-line">
            <div class="control-input-text-worksheet">
                <button type="submit" 
                      class="btn btn-primary button-action-pur-control-worksheet">
                Сохранить
              </button>
            </div>
        </div> -->
      </p-panel>
    </div>

    <div class="worksheet-panel space-top">
        <p-panel header="Цели на платформе" [toggleable]="true">
          <ng-template pTemplate="icons">
            <button pButton class="p-panel-header-icon p-link" (click)="menu.toggle($event)">
              <span class="pi pi-cog"></span>
            </button>
            <p-menu #menu id="config_menu" [popup]="true"></p-menu>
          </ng-template>

          <p-pickList [source]="profileIntentsItems$.value" 
                    [target]="aSelectedIntents" 
                    sourceHeader="Выберете ваши цели на платформе" 
                    targetHeader="Выбранные цели" 
                    [dragdrop]="true"
                    [responsive]="true" 
                    [sourceStyle]="{'height':'30rem'}" 
                    [targetStyle]="{'height':'30rem'}" 
                    filterBy="name"
                    sourceFilterPlaceholder="Найти по названию" 
                    targetFilterPlaceholder="Найти по названию">
    <ng-template let-product pTemplate="item">
        <div class="product-item">
            <div class="image-container">
                    <!-- <img src="assets/showcase/images/demo/product/{{product.image}}" [alt]="product.name" class="product-image" /> -->
            </div>
            <div class="product-list-detail">
                <h5 class="mb-2">{{product.intentName}}</h5>
                <!-- <i class="pi pi-tag product-category-icon"></i>
                <span class="product-category">{{product.tag}}</span> -->
            </div>
            <div class="product-list-action">
                <!-- <h6 class="mb-2">${{product.price}}</h6> -->
                <!-- <span [class]="'product-badge status-' + product.inventoryStatus.toLowerCase()">{{product.inventoryStatus}}</span> -->
            </div>
        </div>
    </ng-template>
</p-pickList>

            
        </p-panel>
      </div>

      <div class="d-flex worksheet-line mb-3">
            <div class="control-input-text-worksheet">
              <button type="button" 
                      class="btn btn-primary button-action-pur-control-worksheet"
                      (click)="onSaveProfileInfoAsync()">
                Сохранить
              </button>
            </div>
        </div>
  </div>
</div>