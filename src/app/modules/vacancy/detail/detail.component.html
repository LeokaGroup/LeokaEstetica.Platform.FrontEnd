<p-toast></p-toast>

<div class="d-flex block-profile space-top-50">
  <div class="profile-left-menu col-lg-3">

  </div>

  <div class="block-worksheet">
    <div class="worksheet-panel">
      <p-panel header="Просмотр информации о вакансии" [toggleable]="true">       
        <div class="d-flex mt-3">
            <div class="control-input-text-worksheet">
              <div class="d-flex">
                <div class="control-input-text-worksheet">
                  <div>
                      <label>Название вакансии</label>
                  </div>
                  <div>
                      <input type="text" 
                      class="p-inputtext-sm input-control-worksheet control-project" 
                      placeholder="Название вакансии" 
                      pInputText
                      autocomplete="new-password" 
                      [(ngModel)]="vacancyName"
                      [disabled]="!isEditMode" />    
                  </div>          
                </div>         
              </div>
        
              <div class="d-flex">
                <div class="control-input-text-worksheet mt-3">
                  <div>
                    <label>Опыт</label>
                  </div>
                  <div>
                    <input type="text" 
                            class="p-inputtext-sm input-control-worksheet control-vacancy" 
                            placeholder="1–3 года"
                            pInputText 
                            autocomplete="new-password" 
                            [(ngModel)]="workExperience"
                            [disabled]="!isEditMode" />
                  </div>
                </div>
        
                <div class="control-input-text-worksheet mt-3">
                  <div>
                    <label>Занятость</label>
                  </div>
                  <div>
                    <input type="text" 
                            class="p-inputtext-sm input-control-worksheet control-vacancy" 
                            placeholder="Полная занятость, удаленная работа"
                            pInputText 
                            autocomplete="new-password" 
                            [(ngModel)]="employment"
                            [disabled]="!isEditMode" />
                  </div>
                </div>
        
                <div class="control-input-text-worksheet mt-3">
                  <div>
                    <label>Оплата</label>
                  </div>
                  <div>
                    <input type="text" 
                            class="p-inputtext-sm input-control-worksheet control-vacancy"
                            placeholder="20 000 – 40 000 руб." 
                            pInputText 
                            autocomplete="new-password"
                            [(ngModel)]="payment"
                            [disabled]="!isEditMode" />
                  </div>
                </div>
              </div>
        
              <div class="d-flex mt-3">
                  <div class="control-input-text-worksheet">
                      <div class="control-input-text-worksheet">
                          <div class="d-flex worksheet-line">
                              <div class="control-input-text-worksheet">
                                  <div>
                                      <label>Описание вакансии</label>
                                  </div>
                                  <div>
                                      <p-editor autocomplete="new-password" 
                                      [(ngModel)]="vacancyText" 
                                      [style]="{'height':'320px'}"
                                      [readonly]="!isEditMode"></p-editor>
                                  </div>
                              </div>                         
                          </div>
                        </div>
                    </div>
              </div>
            </div>         
          </div>
      </p-panel>
    </div>

    <div class="worksheet-panel space-top-50 space-bottom-50 d-flex" *ngIf="!isEditMode">
      <p-panel header="Действия" [toggleable]="true" [collapsed]="true">       
        <div class="d-flex">
          <div class="control-input-text-worksheet">
            <div class="mb-3">
              <div>
                <div>
                  <button pButton 
                          type="button" 
                          label="Сохранить"
                          class="p-button-outlined p-button-secondary p-button-text"
                          *ngIf="isVisibleSaveButton">
                  </button>
                </div>

                <div>
                  <button pButton 
                          type="button" 
                          label="Удалить вакансию"
                          class="p-button-danger p-button-text"
                          (click)="isDeleteVacancy=true"
                          *ngIf="isVisibleDeleteButton">
                  </button>
                </div>
              </div>
            </div>                    
          </div>         
        </div>
      </p-panel>
    </div>

    <!-- <div class="d-flex worksheet-line mt-3 mb-3">
      <div class="control-input-text-worksheet">
        <button type="button" class="p-button-text"
          *ngIf="isEdit">
          Сохранить
        </button>
      </div>

      <div class="control-input-text-worksheet">
        <button type="button" class="p-button-danger p-button-text"
        *ngIf="selectedVacancy$.value.isVisibleControls"
        (click)="isDeleteVacancy=true">
          Удалить
        </button>
      </div>
    </div> -->
  </div>
</div>

<!-- Диалог удаления вакансии. -->
<p-dialog  header="Удаление вакансии" 
          [(visible)]="isDeleteVacancy" 
          [breakpoints]="{'960px': '75vw'}" 
          [style]="{width: '50vw'}"
          [draggable]="false" 
          [resizable]="false"
          icon="pi pi-exclamation-triangle">
        <p>Удалить вакансию {{selectedVacancy$.value.vacancyName}}?</p>
        <ng-template pTemplate="footer">
        <p-button (click)="isDeleteVacancy=false" label="Отмена" styleClass="p-button-text"></p-button>
        <p-button (click)="onDeleteVacancyAsync()" label="Удалить" styleClass="p-button-text p-button-danger"></p-button>
        </ng-template>
</p-dialog>